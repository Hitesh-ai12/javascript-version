import{r as d,d as x,b as w,l as P,h as e,g as t,u as m,o as c,j as r,a0 as O,f as h,Y as v,$ as C,O as M,k as B,e as E}from"./main-D5DKZ7Ln.js";import{l as L}from"./logo-DbYPuVAr.js";import{a as F,b as j}from"./auth-v1-mask-light--N6hHkxK.js";import{a as p}from"./axios-DsPaXkF5.js";import{a as N,b as R,V}from"./VCard-DDxuBKzT.js";import{V as f}from"./VImg-B1TjRv83.js";import{V as S}from"./VForm-C6RvSfnr.js";import{V as H,a as i}from"./VRow-Ch9VOfP7.js";import{V as _}from"./VTextField-BWOpe4li.js";import"./VAvatar-DhYIy1TD.js";import"./forwardRefs-DWGaNmQL.js";/* empty css              */import"./index-DiEAOYo7.js";const I="/build/assets/auth-v1-tree-2-Cg13PFRH.png",q="/build/assets/auth-v1-tree-XwsB2ezL.png",D={class:"auth-wrapper d-flex align-center justify-center pa-4"},U=["innerHTML"],$=r("h2",{class:"font-weight-medium text-2xl text-uppercase"}," Materio ",-1),z=r("h4",{class:"text-h4 mb-1"},"Adventure starts here ðŸš€",-1),A=r("p",{class:"mb-0"},"Enter your email to sign up!",-1),X=r("span",null,"Password has been sent to your email!",-1),ne={__name:"register",setup(Y){const a=d({email:"",otp:""}),y=x(),b=w(()=>y.global.name.value==="light"?F:j),l=d(!1),u=d(!1),g=async()=>{try{await p.post("/send-otp",{email:a.value.email}),l.value=!0}catch(o){console.error("Error sending OTP:",o),alert("Failed to send OTP. Please try again.")}},T=async()=>{try{(await p.post("/verify-otp",{email:a.value.email,otp:a.value.otp})).data.success?(u.value=!0,await p.post("/send-password",{email:a.value.email}),alert("Password has been sent to your email!")):alert("Invalid OTP. Please try again.")}catch(o){console.error("Error verifying OTP:",o),alert("Failed to verify OTP. Please try again.")}};return(o,s)=>{const k=E("RouterLink");return c(),P("div",D,[e(N,{class:"auth-card pa-4 pt-7","max-width":"448"},{default:t(()=>[e(R,{class:"justify-center"},{default:t(()=>[e(k,{to:"/",class:"d-flex align-center gap-3"},{default:t(()=>[r("div",{class:"d-flex",innerHTML:m(L)},null,8,U),$]),_:1})]),_:1}),e(V,{class:"pt-2"},{default:t(()=>[z,A]),_:1}),e(V,null,{default:t(()=>[e(S,{onSubmit:s[2]||(s[2]=O(n=>l.value?T():g(),["prevent"]))},{default:t(()=>[e(H,null,{default:t(()=>[e(i,{cols:"12"},{default:t(()=>[e(_,{modelValue:a.value.email,"onUpdate:modelValue":s[0]||(s[0]=n=>a.value.email=n),label:"Email",placeholder:"johndoe@email.com",type:"email",disabled:l.value,required:""},null,8,["modelValue","disabled"])]),_:1}),l.value&&!u.value?(c(),h(i,{key:0,cols:"12"},{default:t(()=>[e(_,{modelValue:a.value.otp,"onUpdate:modelValue":s[1]||(s[1]=n=>a.value.otp=n),label:"OTP",placeholder:"Enter the OTP",required:""},null,8,["modelValue"])]),_:1})):v("",!0),e(i,{cols:"12"},{default:t(()=>[e(C,{block:"",type:"submit"},{default:t(()=>[M(B(l.value?"Verify OTP":"Send OTP"),1)]),_:1})]),_:1}),u.value?(c(),h(i,{key:1,cols:"12",class:"text-center text-base"},{default:t(()=>[X]),_:1})):v("",!0)]),_:1})]),_:1})]),_:1})]),_:1}),e(f,{class:"auth-footer-start-tree d-none d-md-block",src:m(q),width:250},null,8,["src"]),e(f,{src:m(I),class:"auth-footer-end-tree d-none d-md-block",width:350},null,8,["src"]),e(f,{class:"auth-footer-mask d-none d-md-block",src:b.value},null,8,["src"])])}}};export{ne as default};
