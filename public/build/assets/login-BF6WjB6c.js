import{r as c,d as w,bq as y,b as C,l as T,h as e,g as a,o as L,j as s,u as M,a0 as P,$ as R,O as p,e as f}from"./main-D5DKZ7Ln.js";import{l as j}from"./logo-DbYPuVAr.js";import{a as A,b as B}from"./auth-v1-mask-light--N6hHkxK.js";import{a as h}from"./axios-DsPaXkF5.js";import{a as I,b as N,V as _}from"./VCard-DDxuBKzT.js";import{V as u}from"./VImg-B1TjRv83.js";import{V as U}from"./VForm-C6RvSfnr.js";import{V as q,a as n}from"./VRow-Ch9VOfP7.js";import{V}from"./VTextField-BWOpe4li.js";import{V as F}from"./VCheckbox-w5_2mejb.js";import{V as b}from"./VDivider-CBnqrCbA.js";import"./VAvatar-DhYIy1TD.js";import"./forwardRefs-DWGaNmQL.js";/* empty css              */import"./index-DiEAOYo7.js";import"./VCheckboxBtn-CjBl-hoH.js";const S={class:"auth-wrapper d-flex align-center justify-center pa-4"},$=["innerHTML"],D=s("h2",{class:"font-weight-medium text-2xl text-uppercase"}," Materio ",-1),E=s("h4",{class:"text-h4 mb-1"},"Welcome to Materio! 👋🏻",-1),H=s("p",{class:"mb-0"}," Please sign-in to your account and start the adventure ",-1),z={class:"d-flex align-center justify-space-between flex-wrap my-6"},O=s("a",{class:"text-primary",href:"javascript:void(0)"}," Forgot Password? ",-1),W=s("span",null,"New on our platform?",-1),G=s("span",{class:"mx-4"},"or",-1),me={__name:"login",setup(J){const o=c({email:"",password:"",remember:!1}),v=w(),d=y(),x=C(()=>v.global.name.value==="light"?A:B),i=c(!1),g=async()=>{try{const r=await h.post("/login",o.value);switch(localStorage.setItem("auth_token",r.data.token),(await h.get("/api/user-role",{headers:{Authorization:`Bearer ${r.data.token}`}})).data.role){case"SuperAdmin":d.push("/superadmin/dashboard");break;case"Admin":d.push("/admin/dashboard");break;case"User":d.push("/user/dashboard");break;case"Custom":d.push("/custom/dashboard");break;default:d.push("/dashboard")}}catch(r){console.error("Login failed:",r),alert("Login failed. Please check your email and password.")}};return(r,t)=>{const m=f("RouterLink"),k=f("AuthProvider");return L(),T("div",S,[e(I,{class:"auth-card pa-4 pt-7","max-width":"448"},{default:a(()=>[e(N,{class:"justify-center"},{default:a(()=>[e(m,{to:"/",class:"d-flex align-center gap-3"},{default:a(()=>[s("div",{class:"d-flex",innerHTML:M(j)},null,8,$),D]),_:1})]),_:1}),e(_,{class:"pt-2"},{default:a(()=>[E,H]),_:1}),e(_,null,{default:a(()=>[e(U,{onSubmit:P(g,["prevent"])},{default:a(()=>[e(q,null,{default:a(()=>[e(n,{cols:"12"},{default:a(()=>[e(V,{modelValue:o.value.email,"onUpdate:modelValue":t[0]||(t[0]=l=>o.value.email=l),label:"Email",type:"email",required:""},null,8,["modelValue"])]),_:1}),e(n,{cols:"12"},{default:a(()=>[e(V,{modelValue:o.value.password,"onUpdate:modelValue":t[1]||(t[1]=l=>o.value.password=l),label:"Password",placeholder:"············",type:i.value?"text":"password","append-inner-icon":i.value?"ri-eye-off-line":"ri-eye-line","onClick:appendInner":t[2]||(t[2]=l=>i.value=!i.value),required:""},null,8,["modelValue","type","append-inner-icon"]),s("div",z,[e(F,{modelValue:o.value.remember,"onUpdate:modelValue":t[3]||(t[3]=l=>o.value.remember=l),label:"Remember me"},null,8,["modelValue"]),O])]),_:1}),e(n,{cols:"12"},{default:a(()=>[e(R,{block:"",type:"submit"},{default:a(()=>[p("Login")]),_:1})]),_:1}),e(n,{cols:"12",class:"text-center text-base"},{default:a(()=>[W,e(m,{class:"text-primary ms-2",to:"/register"},{default:a(()=>[p(" Create an account ")]),_:1})]),_:1}),e(n,{cols:"12",class:"d-flex align-center"},{default:a(()=>[e(b),G,e(b)]),_:1}),e(n,{cols:"12",class:"text-center"},{default:a(()=>[e(k)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(u,{class:"auth-footer-start-tree d-none d-md-block",src:r.authV1Tree,width:250},null,8,["src"]),e(u,{src:r.authV1Tree2,class:"auth-footer-end-tree d-none d-md-block",width:350},null,8,["src"]),e(u,{class:"auth-footer-mask d-none d-md-block",src:x.value},null,8,["src"])])}}};export{me as default};
